# 对 AlphaPose 的基础理解

## 背景知识

姿态估计主要分为**自顶向下**、**自底向上**两种线路。

自顶向下：先框选出人体的大概位置，再对每个框出的区域进行人体关键点识别。

自底向上：对整个图像进行关键点识别，再生成一个一个人体的姿态估计。



AlphaPose采用的是自顶向下的路线。

传统的自顶向下的路线有**两个弊端**：

1. 自顶向下的识别的第一步是识别人体区域，如果识别出错那么接下来的步骤都不能进行。
2. 如果采用精密的人体识别算法，会导致大量的计算工作，从而导致识别速度下降。

## AlphaPose 的基本思路

1. 降低检测的置信度（lower the detection confidence)，且降低 NMS 门槛来提供更多的*候选区间*。
2. 利用参数化姿态非极大值抑制（parametric pose NMS)）技术来*清除多余的*候选区间。
3. 通过数据驱动方法（data-driven approach）来*优化姿态的距离参数*。
4. 采用*多级流水线*（multi-stage concurrent pipeline），来提高运行速度以达到实时的目标

传统的姿态估计，无论是自顶向下还是自底向上的，会将识别的关键点呈现为热力图，通常将一张图片分为四份热力图（由于计算机资源有限），但是这种方案在同步定位身体、脸部、手部关键点时，这种呈现方案不能区分不同的身体部位，而且在定位手部、脸部一类较小的关键点时还易出错。如下图所示：

![](doc/%E4%BC%A0%E7%BB%9F%E7%83%AD%E5%8A%9B%E5%9B%BE%E7%9A%84%E4%B8%8D%E8%B6%B3-%E7%A4%BA%E6%84%8F%E5%9B%BE.png)

对上述问题常见的改进方案有两种：

- 采用额外的网络来估计手部和脸部
- 采用 ROI-Align 来扩大特征图（feature map）

但两者都会消耗大量的及算资源，为此，本文采用

5. 对称融合关键点回归方案（symmetric integral keypoints regression method)

